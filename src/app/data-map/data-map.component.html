
<div class="controls">
  <label for="variable-select">Select Variable:</label>
  <select id="variable-select" (change)="updateVariable($event)">
    <option *ngFor="let option of variableOptions" [value]="option.id">
      {{ option.name }}
    </option>
  </select>
</div>
<div class="map-container">
  <div id="map"></div>

  <div *ngIf="selectedStation" class="sidebar">
    <h3>{{ selectedStation.name }}</h3>
    <p><strong>Latitude:</strong> {{ selectedStation.lat }}</p>
    <p><strong>Longitude:</strong> {{ selectedStation.lng }}</p>

    <div *ngIf="selectedStation.details; else loadingData">
      <p><strong>Air Temperature:</strong> {{ selectedStation.details['Tair_1_Avg'] || 'No Data' }}</p>
      <p><strong>Soil Temperature:</strong> {{ selectedStation.details['Tsoil_1_Avg'] || 'No Data' }}</p>
      <p><strong>Rainfall:</strong> {{ selectedStation.details['RF_1_Tot300s'] || 'No Data' }}</p>
      <p><strong>Incoming Shortwave Radiation:</strong> {{ selectedStation.details['SWin_1_Avg'] || 'No Data' }}</p>
      <p><strong>Soil Moisture:</strong> {{ selectedStation.details['SM_1_Avg'] || 'No Data' }}</p>
    </div>

    <ng-template #loadingData>
      <p>Loading additional data...</p>
    </ng-template>

    <a [href]="selectedStation.url" target="_blank" class="button">Open Dashboard</a>
    <button (click)="selectedStation = null">Close</button>
  </div>
</div>
